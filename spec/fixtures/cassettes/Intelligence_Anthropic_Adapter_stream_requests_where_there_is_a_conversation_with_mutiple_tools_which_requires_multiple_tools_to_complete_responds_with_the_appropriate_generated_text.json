{
  "http_interactions": [
    {
      "request": {
        "method": "post",
        "uri": "https://api.anthropic.com/v1/messages",
        "body": {
          "encoding": "UTF-8",
          "string": "{\"model\":\"claude-sonnet-4-20250514\",\"temperature\":0.0,\"max_tokens\":4096,\"stream\":true,\"system\":\"You are a helpfull assistant who answers questions succinctly.\",\"messages\":[{\"role\":\"user\",\"content\":[{\"type\":\"text\",\"text\":\"What is the current weather?\"}]}],\"tools\":[{\"name\":\"get_location\",\"description\":\"The get_location tool will return the users city, state or province and country.\",\"input_schema\":{\"type\":\"object\"}},{\"name\":\"get_weather\",\"description\":\"The get_weather tool will return the current weather in a given locality.\",\"input_schema\":{\"type\":\"object\",\"properties\":{\"city\":{\"type\":\"string\",\"description\":\"The city or town for which the current weather should be returned.\"},\"state\":{\"type\":\"string\",\"description\":\"The state or province for which the current weather should be returned. If this is not provided the largest or most prominent city with the given name, in the given country or in the worldi, will be assumed.\"},\"country\":{\"type\":\"string\",\"description\":\"The country for which the given weather should be returned. If this is not provided the largest or most prominent city with the given name will be returned.\"}},\"required\":[\"city\"]}}]}"
        },
        "headers": {
          "User-Agent": [
            "Faraday v2.13.1"
          ],
          "content-type": [
            "application/json"
          ],
          "x-api-key": [
            "<X-API-KEY>"
          ],
          "anthropic-version": [
            "2023-06-01"
          ]
        }
      },
      "response": {
        "status": {
          "code": 200,
          "message": "OK"
        },
        "headers": {
          "date": [
            "Wed, 03 Dec 2025 16:28:01 GMT"
          ],
          "content-type": [
            "text/event-stream; charset=utf-8"
          ],
          "transfer-encoding": [
            "chunked"
          ],
          "connection": [
            "keep-alive"
          ],
          "cf-ray": [
            "<CF-RAY>"
          ],
          "cache-control": [
            "no-cache"
          ],
          "anthropic-ratelimit-input-tokens-limit": [
            "800000"
          ],
          "anthropic-ratelimit-input-tokens-remaining": [
            "800000"
          ],
          "anthropic-ratelimit-input-tokens-reset": [
            "2025-12-03T16:27:59Z"
          ],
          "anthropic-ratelimit-output-tokens-limit": [
            "160000"
          ],
          "anthropic-ratelimit-output-tokens-remaining": [
            "160000"
          ],
          "anthropic-ratelimit-output-tokens-reset": [
            "2025-12-03T16:27:59Z"
          ],
          "anthropic-ratelimit-requests-limit": [
            "2000"
          ],
          "anthropic-ratelimit-requests-remaining": [
            "1999"
          ],
          "anthropic-ratelimit-requests-reset": [
            "2025-12-03T16:27:59Z"
          ],
          "retry-after": [
            "1"
          ],
          "anthropic-ratelimit-tokens-limit": [
            "960000"
          ],
          "anthropic-ratelimit-tokens-remaining": [
            "960000"
          ],
          "anthropic-ratelimit-tokens-reset": [
            "2025-12-03T16:27:59Z"
          ],
          "request-id": [
            "<REQUEST-ID>"
          ],
          "strict-transport-security": [
            "max-age=31536000; includeSubDomains; preload"
          ],
          "anthropic-organization-id": [
            "ed8c3484-0c99-44df-aab0-b0c00ceaee61"
          ],
          "x-envoy-upstream-service-time": [
            "2077"
          ],
          "cf-cache-status": [
            "DYNAMIC"
          ],
          "x-robots-tag": [
            "none"
          ],
          "server": [
            "cloudflare"
          ]
        },
        "body": {
          "encoding": "UTF-8",
          "string": "event: message_start\ndata: {\"type\":\"message_start\",\"message\":{\"model\":\"claude-sonnet-4-20250514\",\"id\":\"msg_01BoFhwWhz9aQWatBh767om2\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":567,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"cache_creation\":{\"ephemeral_5m_input_tokens\":0,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":3,\"service_tier\":\"standard\"}}          }\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":0,\"content_block\":{\"type\":\"text\",\"text\":\"\"}        }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"I'll help\"}     }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" you get the current weather.\"}          }\n\nevent: ping\ndata: {\"type\": \"ping\"}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" First\"}              }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\", let me fin\"}       }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"d your\"}        }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" location,\"}           }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" an\"}               }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"d then I can\"}               }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" get\"}            }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" the weather information\"}              }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" for you\"}         }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\".\"}       }\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":0         }\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":1,\"content_block\":{\"type\":\"tool_use\",\"id\":\"toolu_01QVhRJLiMCRb8hQ4z3jmyVA\",\"name\":\"get_location\",\"input\":{}}               }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"\"}   }\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":1               }\n\nevent: message_delta\ndata: {\"type\":\"message_delta\",\"delta\":{\"stop_reason\":\"tool_use\",\"stop_sequence\":null},\"usage\":{\"input_tokens\":567,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"output_tokens\":65}      }\n\nevent: message_stop\ndata: {\"type\":\"message_stop\"}\n\n"
        }
      },
      "recorded_at": "Wed, 03 Dec 2025 16:28:02 GMT"
    },
    {
      "request": {
        "method": "post",
        "uri": "https://api.anthropic.com/v1/messages",
        "body": {
          "encoding": "UTF-8",
          "string": "{\"model\":\"claude-sonnet-4-20250514\",\"temperature\":0.0,\"max_tokens\":4096,\"stream\":true,\"system\":\"You are a helpfull assistant who answers questions succinctly.\",\"messages\":[{\"role\":\"user\",\"content\":[{\"type\":\"text\",\"text\":\"What is the current weather?\"}]},{\"role\":\"assistant\",\"content\":[{\"type\":\"text\",\"text\":\"I'll help you get the current weather. First, let me find your location, and then I can get the weather information for you.\"},{\"type\":\"tool_use\",\"id\":\"toolu_01QVhRJLiMCRb8hQ4z3jmyVA\",\"name\":\"get_location\",\"input\":{}}]},{\"role\":\"user\",\"content\":[{\"type\":\"tool_result\",\"tool_use_id\":\"toolu_01QVhRJLiMCRb8hQ4z3jmyVA\",\"content\":\"Seattle, WA, USA\"}]}],\"tools\":[{\"name\":\"get_location\",\"description\":\"The get_location tool will return the users city, state or province and country.\",\"input_schema\":{\"type\":\"object\"}},{\"name\":\"get_weather\",\"description\":\"The get_weather tool will return the current weather in a given locality.\",\"input_schema\":{\"type\":\"object\",\"properties\":{\"city\":{\"type\":\"string\",\"description\":\"The city or town for which the current weather should be returned.\"},\"state\":{\"type\":\"string\",\"description\":\"The state or province for which the current weather should be returned. If this is not provided the largest or most prominent city with the given name, in the given country or in the worldi, will be assumed.\"},\"country\":{\"type\":\"string\",\"description\":\"The country for which the given weather should be returned. If this is not provided the largest or most prominent city with the given name will be returned.\"}},\"required\":[\"city\"]}}]}"
        },
        "headers": {
          "User-Agent": [
            "Faraday v2.13.1"
          ],
          "content-type": [
            "application/json"
          ],
          "x-api-key": [
            "<X-API-KEY>"
          ],
          "anthropic-version": [
            "2023-06-01"
          ]
        }
      },
      "response": {
        "status": {
          "code": 200,
          "message": "OK"
        },
        "headers": {
          "date": [
            "Wed, 03 Dec 2025 16:28:04 GMT"
          ],
          "content-type": [
            "text/event-stream; charset=utf-8"
          ],
          "transfer-encoding": [
            "chunked"
          ],
          "connection": [
            "keep-alive"
          ],
          "cf-ray": [
            "<CF-RAY>"
          ],
          "cache-control": [
            "no-cache"
          ],
          "anthropic-ratelimit-input-tokens-limit": [
            "800000"
          ],
          "anthropic-ratelimit-input-tokens-remaining": [
            "800000"
          ],
          "anthropic-ratelimit-input-tokens-reset": [
            "2025-12-03T16:28:02Z"
          ],
          "anthropic-ratelimit-output-tokens-limit": [
            "160000"
          ],
          "anthropic-ratelimit-output-tokens-remaining": [
            "160000"
          ],
          "anthropic-ratelimit-output-tokens-reset": [
            "2025-12-03T16:28:02Z"
          ],
          "anthropic-ratelimit-requests-limit": [
            "2000"
          ],
          "anthropic-ratelimit-requests-remaining": [
            "1999"
          ],
          "anthropic-ratelimit-requests-reset": [
            "2025-12-03T16:28:02Z"
          ],
          "retry-after": [
            "60"
          ],
          "anthropic-ratelimit-tokens-limit": [
            "960000"
          ],
          "anthropic-ratelimit-tokens-remaining": [
            "960000"
          ],
          "anthropic-ratelimit-tokens-reset": [
            "2025-12-03T16:28:02Z"
          ],
          "request-id": [
            "<REQUEST-ID>"
          ],
          "strict-transport-security": [
            "max-age=31536000; includeSubDomains; preload"
          ],
          "anthropic-organization-id": [
            "ed8c3484-0c99-44df-aab0-b0c00ceaee61"
          ],
          "x-envoy-upstream-service-time": [
            "1954"
          ],
          "cf-cache-status": [
            "DYNAMIC"
          ],
          "x-robots-tag": [
            "none"
          ],
          "server": [
            "cloudflare"
          ]
        },
        "body": {
          "encoding": "UTF-8",
          "string": "event: message_start\ndata: {\"type\":\"message_start\",\"message\":{\"model\":\"claude-sonnet-4-20250514\",\"id\":\"msg_01MjuT7Z1Eop64Uq8VM63Rce\",\"type\":\"message\",\"role\":\"assistant\",\"content\":[],\"stop_reason\":null,\"stop_sequence\":null,\"usage\":{\"input_tokens\":650,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"cache_creation\":{\"ephemeral_5m_input_tokens\":0,\"ephemeral_1h_input_tokens\":0},\"output_tokens\":1,\"service_tier\":\"standard\"}}             }\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":0,\"content_block\":{\"type\":\"text\",\"text\":\"\"}        }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\"Now\"} }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" let me get the current\"}      }\n\nevent: ping\ndata: {\"type\": \"ping\"}\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" weather for\"}          }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" Seattle,\"}   }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":0,\"delta\":{\"type\":\"text_delta\",\"text\":\" WA:\"}              }\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":0      }\n\nevent: content_block_start\ndata: {\"type\":\"content_block_start\",\"index\":1,\"content_block\":{\"type\":\"tool_use\",\"id\":\"toolu_01CLV8xxX19u9SVSMfWURRmZ\",\"name\":\"get_weather\",\"input\":{}}  }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"\"}     }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"{\\\"c\"}           }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"ity\\\": \\\"S\"}     }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"eattle\\\"\"}        }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\", \\\"st\"}      }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\"ate\\\": \\\"WA\\\"\"}             }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\", \\\"country\\\"\"}   }\n\nevent: content_block_delta\ndata: {\"type\":\"content_block_delta\",\"index\":1,\"delta\":{\"type\":\"input_json_delta\",\"partial_json\":\": \\\"USA\\\"}\"}      }\n\nevent: content_block_stop\ndata: {\"type\":\"content_block_stop\",\"index\":1        }\n\nevent: message_delta\ndata: {\"type\":\"message_delta\",\"delta\":{\"stop_reason\":\"tool_use\",\"stop_sequence\":null},\"usage\":{\"input_tokens\":650,\"cache_creation_input_tokens\":0,\"cache_read_input_tokens\":0,\"output_tokens\":102} }\n\nevent: message_stop\ndata: {\"type\":\"message_stop\"}\n\n"
        }
      },
      "recorded_at": "Wed, 03 Dec 2025 16:28:05 GMT"
    }
  ],
  "recorded_with": "VCR 6.3.1"
}